import re
from collections import defaultdict

def extract_numbers(line):
    hot_tower_match = re.search(r'hot tower at channel (\d+)', line)
    chi2_match = re.search(r'average chi2 (\d+\.\d+)', line)

    if hot_tower_match:
        key = int(hot_tower_match.group(1))
    else:
        key = None

    if chi2_match:
        value = float(chi2_match.group(1))
    else:
        value = None

    return key, value

file_names = ["hta_00_27533.txt", "hta_00_27534.txt", "hta_00_27535.txt", "hta_00_27536.txt", "hta_00_27537.txt", "hta_00_27538.txt", "hta_00_27539.txt", "hta_00_27540.txt", "hta_00_27541.txt", "hta_00_27542.txt", "hta_00_27543.txt", "hta_00_27544.txt", "hta_00_27545.txt", "hta_00_27546.txt", "hta_00_27547.txt", "hta_00_27548.txt", "hta_00_27549.txt", "hta_00_27550.txt", "hta_00_27551.txt", "hta_00_27552.txt", "hta_00_27553.txt", "hta_00_27554.txt", "hta_00_27555.txt", "hta_00_27556.txt", "hta_00_27557.txt", "hta_00_27558.txt", "hta_00_27559.txt", "hta_00_27560.txt", "hta_00_27561.txt", "hta_00_27562.txt", "hta_00_27563.txt", "hta_00_27564.txt", "hta_00_27565.txt", "hta_00_27566.txt", "hta_00_27567.txt", "hta_00_27568.txt", "hta_00_27569.txt", "hta_00_27570.txt", "hta_00_27571.txt", "hta_00_27572.txt", "hta_00_27573.txt", "hta_00_27574.txt", "hta_00_27575.txt", "hta_00_27576.txt", "hta_00_27577.txt", "hta_00_27578.txt", "hta_00_27579.txt", "hta_00_27580.txt", "hta_00_27581.txt", "hta_00_27582.txt", "hta_00_27583.txt", "hta_00_27584.txt", "hta_00_27585.txt", "hta_00_27586.txt", "hta_00_27587.txt", "hta_00_27588.txt", "hta_00_27589.txt", "hta_00_27590.txt", "hta_00_27591.txt", "hta_00_27592.txt", "hta_00_27593.txt", "hta_00_27594.txt", "hta_00_27595.txt", "hta_00_27596.txt", "hta_00_27597.txt", "hta_00_27598.txt", "hta_00_27599.txt", "hta_00_27600.txt", "hta_00_27601.txt", "hta_00_27602.txt", "hta_00_27603.txt", 
"hta_01_27533.txt", "hta_01_27534.txt", "hta_01_27535.txt", "hta_01_27536.txt", "hta_01_27537.txt", "hta_01_27538.txt", "hta_01_27539.txt", "hta_01_27540.txt", "hta_01_27541.txt", "hta_01_27542.txt", "hta_01_27543.txt", "hta_01_27544.txt", "hta_01_27545.txt", "hta_01_27546.txt", "hta_01_27547.txt", "hta_01_27548.txt", "hta_01_27549.txt", "hta_01_27550.txt", "hta_01_27551.txt", "hta_01_27552.txt", "hta_01_27553.txt", "hta_01_27554.txt", "hta_01_27555.txt", "hta_01_27556.txt", "hta_01_27557.txt", "hta_01_27558.txt", "hta_01_27559.txt", "hta_01_27560.txt", "hta_01_27561.txt", "hta_01_27562.txt", "hta_01_27563.txt", "hta_01_27564.txt", "hta_01_27565.txt", "hta_01_27566.txt", "hta_01_27567.txt", "hta_01_27568.txt", "hta_01_27569.txt", "hta_01_27570.txt", "hta_01_27571.txt", "hta_01_27572.txt", "hta_01_27573.txt", "hta_01_27574.txt", "hta_01_27575.txt", "hta_01_27576.txt", "hta_01_27577.txt", "hta_01_27578.txt", "hta_01_27579.txt", "hta_01_27580.txt", "hta_01_27581.txt", "hta_01_27582.txt", "hta_01_27583.txt", "hta_01_27584.txt", "hta_01_27585.txt", "hta_01_27586.txt", "hta_01_27587.txt", "hta_01_27588.txt", "hta_01_27589.txt", "hta_01_27590.txt", "hta_01_27591.txt", "hta_01_27592.txt", "hta_01_27593.txt", "hta_01_27594.txt", "hta_01_27595.txt", "hta_01_27596.txt", "hta_01_27597.txt", "hta_01_27598.txt", "hta_01_27599.txt", "hta_01_27600.txt", "hta_01_27601.txt", "hta_01_27602.txt", "hta_01_27603.txt", 
"hta_02_27533.txt", "hta_02_27534.txt", "hta_02_27535.txt", "hta_02_27536.txt", "hta_02_27537.txt", "hta_02_27538.txt", "hta_02_27539.txt", "hta_02_27540.txt", "hta_02_27541.txt", "hta_02_27542.txt", "hta_02_27543.txt", "hta_02_27544.txt", "hta_02_27545.txt", "hta_02_27546.txt", "hta_02_27547.txt", "hta_02_27548.txt", "hta_02_27549.txt", "hta_02_27550.txt", "hta_02_27551.txt", "hta_02_27552.txt", "hta_02_27553.txt", "hta_02_27554.txt", "hta_02_27555.txt", "hta_02_27556.txt", "hta_02_27557.txt", "hta_02_27558.txt", "hta_02_27559.txt", "hta_02_27560.txt", "hta_02_27561.txt", "hta_02_27562.txt", "hta_02_27563.txt", "hta_02_27564.txt", "hta_02_27565.txt", "hta_02_27566.txt", "hta_02_27567.txt", "hta_02_27568.txt", "hta_02_27569.txt", "hta_02_27570.txt", "hta_02_27571.txt", "hta_02_27572.txt", "hta_02_27573.txt", "hta_02_27574.txt", "hta_02_27575.txt", "hta_02_27576.txt", "hta_02_27577.txt", "hta_02_27578.txt", "hta_02_27579.txt", "hta_02_27580.txt", "hta_02_27581.txt", "hta_02_27582.txt", "hta_02_27583.txt", "hta_02_27584.txt", "hta_02_27585.txt", "hta_02_27586.txt", "hta_02_27587.txt", "hta_02_27588.txt", "hta_02_27589.txt", "hta_02_27590.txt", "hta_02_27591.txt", "hta_02_27592.txt", "hta_02_27593.txt", "hta_02_27594.txt", "hta_02_27595.txt", "hta_02_27596.txt", "hta_02_27597.txt", "hta_02_27598.txt", "hta_02_27599.txt", "hta_02_27600.txt", "hta_02_27601.txt", "hta_02_27602.txt", "hta_02_27603.txt", 
"hta_03_27533.txt", "hta_03_27534.txt", "hta_03_27535.txt", "hta_03_27536.txt", "hta_03_27537.txt", "hta_03_27538.txt", "hta_03_27539.txt", "hta_03_27540.txt", "hta_03_27541.txt", "hta_03_27542.txt", "hta_03_27543.txt", "hta_03_27544.txt", "hta_03_27545.txt", "hta_03_27546.txt", "hta_03_27547.txt", "hta_03_27548.txt", "hta_03_27549.txt", "hta_03_27550.txt", "hta_03_27551.txt", "hta_03_27552.txt", "hta_03_27553.txt", "hta_03_27554.txt", "hta_03_27555.txt", "hta_03_27556.txt", "hta_03_27557.txt", "hta_03_27558.txt", "hta_03_27559.txt", "hta_03_27560.txt", "hta_03_27561.txt", "hta_03_27562.txt", "hta_03_27563.txt", "hta_03_27564.txt", "hta_03_27565.txt", "hta_03_27566.txt", "hta_03_27567.txt", "hta_03_27568.txt", "hta_03_27569.txt", "hta_03_27570.txt", "hta_03_27571.txt", "hta_03_27572.txt", "hta_03_27573.txt", "hta_03_27574.txt", "hta_03_27575.txt", "hta_03_27576.txt", "hta_03_27577.txt", "hta_03_27578.txt", "hta_03_27579.txt", "hta_03_27580.txt", "hta_03_27581.txt", "hta_03_27582.txt", "hta_03_27583.txt", "hta_03_27584.txt", "hta_03_27585.txt", "hta_03_27586.txt", "hta_03_27587.txt", "hta_03_27588.txt", "hta_03_27589.txt", "hta_03_27590.txt", "hta_03_27591.txt", "hta_03_27592.txt", "hta_03_27593.txt", "hta_03_27594.txt", "hta_03_27595.txt", "hta_03_27596.txt", "hta_03_27597.txt", "hta_03_27598.txt", "hta_03_27599.txt", "hta_03_27600.txt", "hta_03_27601.txt", "hta_03_27602.txt", "hta_03_27603.txt", 
"hta_04_27533.txt", "hta_04_27534.txt", "hta_04_27535.txt", "hta_04_27536.txt", "hta_04_27537.txt", "hta_04_27538.txt", "hta_04_27539.txt", "hta_04_27540.txt", "hta_04_27541.txt", "hta_04_27542.txt", "hta_04_27543.txt", "hta_04_27544.txt", "hta_04_27545.txt", "hta_04_27546.txt", "hta_04_27547.txt", "hta_04_27548.txt", "hta_04_27549.txt", "hta_04_27550.txt", "hta_04_27551.txt", "hta_04_27552.txt", "hta_04_27553.txt", "hta_04_27554.txt", "hta_04_27555.txt", "hta_04_27556.txt", "hta_04_27557.txt", "hta_04_27558.txt", "hta_04_27559.txt", "hta_04_27560.txt", "hta_04_27561.txt", "hta_04_27562.txt", "hta_04_27563.txt", "hta_04_27564.txt", "hta_04_27565.txt", "hta_04_27566.txt", "hta_04_27567.txt", "hta_04_27568.txt", "hta_04_27569.txt", "hta_04_27570.txt", "hta_04_27571.txt", "hta_04_27572.txt", "hta_04_27573.txt", "hta_04_27574.txt", "hta_04_27575.txt", "hta_04_27576.txt", "hta_04_27577.txt", "hta_04_27578.txt", "hta_04_27579.txt", "hta_04_27580.txt", "hta_04_27581.txt", "hta_04_27582.txt", "hta_04_27583.txt", "hta_04_27584.txt", "hta_04_27585.txt", "hta_04_27586.txt", "hta_04_27587.txt", "hta_04_27588.txt", "hta_04_27589.txt", "hta_04_27590.txt", "hta_04_27591.txt", "hta_04_27592.txt", "hta_04_27593.txt", "hta_04_27594.txt", "hta_04_27595.txt", "hta_04_27596.txt", "hta_04_27597.txt", "hta_04_27598.txt", "hta_04_27599.txt", "hta_04_27600.txt", "hta_04_27601.txt", "hta_04_27602.txt", "hta_04_27603.txt", 
"hta_05_27533.txt", "hta_05_27534.txt", "hta_05_27535.txt", "hta_05_27536.txt", "hta_05_27537.txt", "hta_05_27538.txt", "hta_05_27539.txt", "hta_05_27540.txt", "hta_05_27541.txt", "hta_05_27542.txt", "hta_05_27543.txt", "hta_05_27544.txt", "hta_05_27545.txt", "hta_05_27546.txt", "hta_05_27547.txt", "hta_05_27548.txt", "hta_05_27549.txt", "hta_05_27550.txt", "hta_05_27551.txt", "hta_05_27552.txt", "hta_05_27553.txt", "hta_05_27554.txt", "hta_05_27555.txt", "hta_05_27556.txt", "hta_05_27557.txt", "hta_05_27558.txt", "hta_05_27559.txt", "hta_05_27560.txt", "hta_05_27561.txt", "hta_05_27562.txt", "hta_05_27563.txt", "hta_05_27564.txt", "hta_05_27565.txt", "hta_05_27566.txt", "hta_05_27567.txt", "hta_05_27568.txt", "hta_05_27569.txt", "hta_05_27570.txt", "hta_05_27571.txt", "hta_05_27572.txt", "hta_05_27573.txt", "hta_05_27574.txt", "hta_05_27575.txt", "hta_05_27576.txt", "hta_05_27577.txt", "hta_05_27578.txt", "hta_05_27579.txt", "hta_05_27580.txt", "hta_05_27581.txt", "hta_05_27582.txt", "hta_05_27583.txt", "hta_05_27584.txt", "hta_05_27585.txt", "hta_05_27586.txt", "hta_05_27587.txt", "hta_05_27588.txt", "hta_05_27589.txt", "hta_05_27590.txt", "hta_05_27591.txt", "hta_05_27592.txt", "hta_05_27593.txt", "hta_05_27594.txt", "hta_05_27595.txt", "hta_05_27596.txt", "hta_05_27597.txt", "hta_05_27598.txt", "hta_05_27599.txt", "hta_05_27600.txt", "hta_05_27601.txt", "hta_05_27602.txt", "hta_05_27603.txt", 
"hta_06_27533.txt", "hta_06_27534.txt", "hta_06_27535.txt", "hta_06_27536.txt", "hta_06_27537.txt", "hta_06_27538.txt", "hta_06_27539.txt", "hta_06_27540.txt", "hta_06_27541.txt", "hta_06_27542.txt", "hta_06_27543.txt", "hta_06_27544.txt", "hta_06_27545.txt", "hta_06_27546.txt", "hta_06_27547.txt", "hta_06_27548.txt", "hta_06_27549.txt", "hta_06_27550.txt", "hta_06_27551.txt", "hta_06_27552.txt", "hta_06_27553.txt", "hta_06_27554.txt", "hta_06_27555.txt", "hta_06_27556.txt", "hta_06_27557.txt", "hta_06_27558.txt", "hta_06_27559.txt", "hta_06_27560.txt", "hta_06_27561.txt", "hta_06_27562.txt", "hta_06_27563.txt", "hta_06_27564.txt", "hta_06_27565.txt", "hta_06_27566.txt", "hta_06_27567.txt", "hta_06_27568.txt", "hta_06_27569.txt", "hta_06_27570.txt", "hta_06_27571.txt", "hta_06_27572.txt", "hta_06_27573.txt", "hta_06_27574.txt", "hta_06_27575.txt", "hta_06_27576.txt", "hta_06_27577.txt", "hta_06_27578.txt", "hta_06_27579.txt", "hta_06_27580.txt", "hta_06_27581.txt", "hta_06_27582.txt", "hta_06_27583.txt", "hta_06_27584.txt", "hta_06_27585.txt", "hta_06_27586.txt", "hta_06_27587.txt", "hta_06_27588.txt", "hta_06_27589.txt", "hta_06_27590.txt", "hta_06_27591.txt", "hta_06_27592.txt", "hta_06_27593.txt", "hta_06_27594.txt", "hta_06_27595.txt", "hta_06_27596.txt", "hta_06_27597.txt", "hta_06_27598.txt", "hta_06_27599.txt", "hta_06_27600.txt", "hta_06_27601.txt", "hta_06_27602.txt", "hta_06_27603.txt", 
"hta_07_27533.txt", "hta_07_27534.txt", "hta_07_27535.txt", "hta_07_27536.txt", "hta_07_27537.txt", "hta_07_27538.txt", "hta_07_27539.txt", "hta_07_27540.txt", "hta_07_27541.txt", "hta_07_27542.txt", "hta_07_27543.txt", "hta_07_27544.txt", "hta_07_27545.txt", "hta_07_27546.txt", "hta_07_27547.txt", "hta_07_27548.txt", "hta_07_27549.txt", "hta_07_27550.txt", "hta_07_27551.txt", "hta_07_27552.txt", "hta_07_27553.txt", "hta_07_27554.txt", "hta_07_27555.txt", "hta_07_27556.txt", "hta_07_27557.txt", "hta_07_27558.txt", "hta_07_27559.txt", "hta_07_27560.txt", "hta_07_27561.txt", "hta_07_27562.txt", "hta_07_27563.txt", "hta_07_27564.txt", "hta_07_27565.txt", "hta_07_27566.txt", "hta_07_27567.txt", "hta_07_27568.txt", "hta_07_27569.txt", "hta_07_27570.txt", "hta_07_27571.txt", "hta_07_27572.txt", "hta_07_27573.txt", "hta_07_27574.txt", "hta_07_27575.txt", "hta_07_27576.txt", "hta_07_27577.txt", "hta_07_27578.txt", "hta_07_27579.txt", "hta_07_27580.txt", "hta_07_27581.txt", "hta_07_27582.txt", "hta_07_27583.txt", "hta_07_27584.txt", "hta_07_27585.txt", "hta_07_27586.txt", "hta_07_27587.txt", "hta_07_27588.txt", "hta_07_27589.txt", "hta_07_27590.txt", "hta_07_27591.txt", "hta_07_27592.txt", "hta_07_27593.txt", "hta_07_27594.txt", "hta_07_27595.txt", "hta_07_27596.txt", "hta_07_27597.txt", "hta_07_27598.txt", "hta_07_27599.txt", "hta_07_27600.txt", "hta_07_27601.txt", "hta_07_27602.txt", "hta_07_27603.txt"]

number_files = defaultdict(list)  # Using float as values

for file_name in file_names:
    with open(file_name, 'r') as file:
        # Extract numbers from each line in the file
        for line in file:
            key, value = extract_numbers(line)
            if key is not None and value is not None and value < 10000:
                number_files[key].append(value)

for key, value in number_files.items():
    print(f"{key}: {value}")